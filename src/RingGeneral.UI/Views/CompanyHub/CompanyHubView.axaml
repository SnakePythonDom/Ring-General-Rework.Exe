<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:RingGeneral.UI.ViewModels.CompanyHub"
             mc:Ignorable="d" d:DesignWidth="1400" d:DesignHeight="900"
             x:Class="RingGeneral.UI.Views.CompanyHub.CompanyHubView"
             x:DataType="vm:CompanyHubViewModel">

  <UserControl.Resources>
    <Style Selector="Border.card">
      <Setter Property="Background" Value="{StaticResource BackgroundCardBrush}"/>
      <Setter Property="BorderBrush" Value="{StaticResource BorderMediumBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="CornerRadius" Value="8"/>
      <Setter Property="Padding" Value="24"/>
      <Setter Property="BoxShadow" Value="0 8 20 #00000055"/>
    </Style>

    <Style Selector="RadioButton.toggle-pill">
      <Setter Property="Padding" Value="6,4"/>
      <Setter Property="FontSize" Value="11"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="Foreground" Value="{StaticResource TextMutedBrush}"/>
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
    </Style>

    <Style Selector="RadioButton.toggle-pill:checked">
      <Setter Property="Background" Value="{StaticResource BrandPrimaryBrush}"/>
      <Setter Property="Foreground" Value="White"/>
    </Style>

    <Style Selector="TabItem">
      <Setter Property="FontSize" Value="12"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="Foreground" Value="{StaticResource TextMutedBrush}"/>
      <Setter Property="Padding" Value="0,0,0,10"/>
      <Setter Property="Margin" Value="0,0,32,0"/>
      <Setter Property="BorderThickness" Value="0,0,0,2"/>
      <Setter Property="BorderBrush" Value="Transparent"/>
    </Style>

    <Style Selector="TabItem:selected">
      <Setter Property="Foreground" Value="{StaticResource BrandPrimaryBrush}"/>
      <Setter Property="BorderBrush" Value="{StaticResource BrandPrimaryBrush}"/>
    </Style>
  </UserControl.Resources>

  <Grid Background="{StaticResource BackgroundPrimaryBrush}" RowDefinitions="Auto,Auto,*">

    <!-- Header avec stats globales -->
    <Border Grid.Row="0"
            Background="{StaticResource BackgroundSecondaryBrush}"
            BorderBrush="{StaticResource BorderMediumBrush}"
            BorderThickness="0,0,0,1"
            Padding="24,16">
      <Grid ColumnDefinitions="*,Auto">
        <StackPanel Spacing="6">
          <TextBlock Text="RING GENERAL"
                     FontSize="22"
                     FontWeight="Bold"
                     Foreground="{StaticResource BrandPrimaryBrush}"
                     LetterSpacing="-0.5"/>
          <StackPanel Orientation="Horizontal" Spacing="20">
            <TextBlock FontSize="12" Foreground="{StaticResource TextMutedBrush}">
              <Run Text="TrÃ©sorerie: "/>
              <Run Text="{Binding CurrentCompany.Tresorerie, StringFormat='${0:N0}'}"
                   FontWeight="Bold"
                   Foreground="{StaticResource SuccessLightBrush}"/>
            </TextBlock>
            <TextBlock FontSize="12" Foreground="{StaticResource TextMutedBrush}">
              <Run Text="Date: "/>
              <Run Text="{Binding CurrentDateLabel}" FontWeight="Bold" Foreground="White"/>
            </TextBlock>
          </StackPanel>
        </StackPanel>
        <Button Grid.Column="1"
                Content="CONTINUER"
                Background="{StaticResource BrandPrimaryBrush}"
                Foreground="White"
                Padding="20,8"
                CornerRadius="8"
                FontWeight="Bold"
                LetterSpacing="1"/>
      </Grid>
    </Border>

    <!-- Header Company + Switch -->
    <Border Grid.Row="1" Background="{StaticResource BackgroundTertiaryBrush}" Padding="24,20">
      <Grid ColumnDefinitions="*,Auto">
        <StackPanel Orientation="Horizontal" Spacing="20">
          <Border Width="80"
                  Height="80"
                  CornerRadius="8"
                  Background="{Binding CompanyLogoBackground}">
            <TextBlock Text="{Binding CompanyLogoText}"
                       FontSize="28"
                       FontWeight="Black"
                       Foreground="White"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
          </Border>

          <StackPanel Spacing="6">
            <StackPanel Orientation="Horizontal" Spacing="16">
              <TextBlock Text="{Binding CompanyDisplayTitle}"
                         FontSize="30"
                         FontWeight="Black"
                         Foreground="White"
                         LetterSpacing="-0.5"/>
              <Border Background="{StaticResource BackgroundCardDarkBrush}" BorderBrush="{StaticResource BorderMediumBrush}" BorderThickness="1" CornerRadius="16" Padding="4">
                <StackPanel Orientation="Horizontal" Spacing="4">
                  <RadioButton Classes="toggle-pill"
                               GroupName="CompanyMode"
                               Content="MA COMPAGNIE"
                               IsChecked="{Binding IsViewingMyCompany}"/>
                  <RadioButton Classes="toggle-pill"
                               GroupName="CompanyMode"
                               Content="RIVAUX"
                               IsChecked="{Binding IsViewingRival}"/>
                </StackPanel>
              </Border>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Spacing="16">
              <TextBlock FontSize="12" Foreground="{StaticResource TextMutedBrush}">
                <Run Text="Prestige: "/>
                <Run Text="{Binding CurrentCompany.Prestige, StringFormat='National ({0}/100)'}" FontWeight="Bold" Foreground="White"/>
              </TextBlock>
              <TextBlock FontSize="12" Foreground="{StaticResource TextMutedBrush}">
                <Run Text="RÃ©gion: "/>
                <Run Text="{Binding CurrentCompany.Region}" FontWeight="Bold" Foreground="White"/>
              </TextBlock>
            </StackPanel>
          </StackPanel>
        </StackPanel>
      </Grid>
    </Border>

    <!-- Tabs -->
    <TabControl Grid.Row="2"
                SelectedIndex="{Binding SelectedTabIndex}"
                Background="{StaticResource BackgroundPrimaryBrush}"
                Padding="24">
      <TabControl.Styles>
        <Style Selector="TabStrip">
          <Setter Property="Background" Value="Transparent"/>
        </Style>
      </TabControl.Styles>

      <TabItem Header="VUE D'ENSEMBLE">
        <Grid ColumnDefinitions="2*,*" RowDefinitions="Auto" ColumnSpacing="24">
          <StackPanel Grid.Column="0" Spacing="20">
            <Border Classes="card" BorderThickness="4,0,0,0" BorderBrush="{StaticResource BrandPrimaryBrush}">
              <StackPanel Spacing="16">
                <TextBlock Text="PROCHAIN Ã‰VÃ‰NEMENT"
                           FontSize="11"
                           FontWeight="Black"
                           Foreground="{StaticResource TextMutedBrush}"
                           LetterSpacing="1"/>
                <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="16">
                  <Border Width="64" Height="64" Background="{StaticResource BackgroundCardDarkBrush}" CornerRadius="6">
                    <TextBlock Text="ðŸ“…"
                               FontSize="24"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                  </Border>
                  <StackPanel Grid.Column="1" Spacing="4">
                    <TextBlock Text="GFW MONDAY NIGHT" FontSize="20" FontWeight="Black" Foreground="White"/>
                    <TextBlock Text="Lundi Prochain | 20h00" FontSize="12" Foreground="{StaticResource BrandPrimaryBrush}"/>
                  </StackPanel>
                  <StackPanel Grid.Column="2" HorizontalAlignment="Right" Spacing="4">
                    <TextBlock Text="Barclays Center" FontSize="12" FontWeight="Bold" Foreground="White"/>
                    <TextBlock Text="Tickets: 85% Vendus" FontSize="11" Foreground="{StaticResource TextMutedBrush}"/>
                  </StackPanel>
                </Grid>
              </StackPanel>
            </Border>
          </StackPanel>

          <Border Grid.Column="1" Classes="card">
            <StackPanel Spacing="10">
              <TextBlock Text="PERFORMANCE RÃ‰CENTE"
                         FontSize="11"
                         FontWeight="Black"
                         Foreground="{StaticResource TextMutedBrush}"
                         LetterSpacing="1"/>
              <TextBlock Text="7.8" FontSize="34" FontWeight="Black" Foreground="{StaticResource SuccessLightBrush}"/>
              <TextBlock Text="Moyenne Ratings (Derniers 4 shows)" FontSize="11" Foreground="{StaticResource TextMutedBrush}"/>
            </StackPanel>
          </Border>
        </Grid>
      </TabItem>

      <TabItem Header="ROSTER">
        <Border Classes="card">
          <TextBlock Text="ROSTER - CONTENU Ã€ VENIR"
                     FontSize="12"
                     FontWeight="Bold"
                     Foreground="{StaticResource TextMutedBrush}"/>
        </Border>
      </TabItem>

      <TabItem Header="TITRES">
        <Border Classes="card">
          <TextBlock Text="TITRES & CHAMPIONS - CONTENU Ã€ VENIR"
                     FontSize="12"
                     FontWeight="Bold"
                     Foreground="{StaticResource TextMutedBrush}"/>
        </Border>
      </TabItem>

      <TabItem Header="FINANCES">
        <Border Classes="card">
          <TextBlock Text="FINANCES - CONTENU Ã€ VENIR"
                     FontSize="12"
                     FontWeight="Bold"
                     Foreground="{StaticResource TextMutedBrush}"/>
        </Border>
      </TabItem>
    </TabControl>
  </Grid>
</UserControl>
